# Rate Limiting Zones
# Place in /etc/nginx/conf.d/

# Limit requests per IP (10 requests/second with burst of 20)
limit_req_zone $binary_remote_addr zone=req_limit:10m rate=10r/s;

# Limit connections per IP
limit_conn_zone $binary_remote_addr zone=conn_limit:10m;

# Return 429 (Too Many Requests) instead of 503
limit_req_status 429;
limit_conn_status 429;
